<!-- Start writing your code here -->
<!-- Start writing your code here -->
<!DOCTYPE html>
<html lang="en">
<head>
   <link rel="shortcut icon" type="image/x-icon" href="https://yourimageshare.com/ib/GrUg6gfJ1o.png" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FakeChan</title>
  <script src="https://cdn.jsdelivr.net/gh/japanga/fakechan/jquery/jquery@3.6.4/dist/jquery.min.js"></script>
</head>
<body>
   
     <div id="message"></div>
  
  <div>
    <div class="boards-container">
   <span style="color: darkred;">
<p class="inline-p"><b>/a/</b></p>
     
   <div class="inline-p">
   <p id="limeIcon">🍊</p>
     </div>
     
<p class="inline-p"><b>/b/</b></p>
     
 <div class="inline-p">
   <p id="limeIcon2">🍊</p>
     </div>
     
<p class="inline-p"><b>/x/</b></p>
     
      <div class="inline-p">
   <p id="limeIcon3">🍊</p>
     </div>
     
<p class="inline-p"><b>/v/</b></p>
     
        <div class="inline-p">
   <p id="limeIcon4">🍊</p>
     </div>
     
     <p class="inline-p"><b>/pol/</b></p>
     
      <div class="inline-p">
   <p id="limeIcon5">🍊</p>
     </div>
     
     <p class="inline-p"><b>/mu/</b></p>
     
       <div class="inline-p">
   <p id="limeIcon6">🍊</p>
     </div>
     
     <p class="inline-p"><b>/gif/</b></p>
     
       <div class="inline-p">
   <p id="limeIcon7">🍊</p>
     </div>
     
       <p class="inline-p"><b>/g/</b></p>
     
      <div class="inline-p">
   <p id="limeIcon8">🍊</p>
     </div>
     
       <p class="inline-p"><b>/co/</b></p>
     
      <div class="inline-p">
   <p id="limeIcon9">🍊</p>
        </div>
        
         <p class="inline-p"><b>/f/</b></p>
      
        <div class="inline-p">
   <p id="limeIcon10">🍊</p>
        </div>
     
     <p class="inline-p"><b>/lit/</b></p>
     
      </span>
</div>

        </div>
<div class="container"> 
 <a href="./signup">
<button id="verifyLimeIDButton"><span style="color: darkred;"> <b>Register a LimeID</b></span></button>
  </a>
    </div>
    
    <button id="deleteButton"><span style="color: darkred;"> <b>♻ Delete my post</b></span>
  </button>
      
    
    <button id="mobileButton"><span style="color: darkred;"> <b>Switch to Mobile view/icons</b></span></button>
 


  
  <div class="container">
        <form id="passwordForm">
            <label for="password"> Lime ID:</label>
            <input type="password" id="password" name="password" required>
            <button type="submit">Submit</button>
            <p id="message"></p>
           <textarea id="userText" name="userText" rows="5" required></textarea>
   
          

    <script>
         // Get references to the HTML elements
    const paragraph1 = document.getElementById('limeIcon');
      const paragraph2 = document.getElementById('limeIcon2');
            const paragraph3 = document.getElementById('limeIcon3');
            const paragraph4 = document.getElementById('limeIcon4');
            const paragraph5 = document.getElementById('limeIcon5');
            const paragraph6 = document.getElementById('limeIcon6');
            const paragraph7 = document.getElementById('limeIcon7');
            const paragraph8 = document.getElementById('limeIcon8');
            const paragraph9 = document.getElementById('limeIcon9');
            const paragraph10 = document.getElementById('limeIcon10');
    const button = document.getElementById('mobileButton');

    // Add a click event listener to the button
    button.addEventListener('click', function() {
        // Change the id of the paragraph element
        paragraph1.textContent = '🍋‍🟩';
        paragraph2.textContent = '🍋‍🟩';
      paragraph3.textContent = '🍋‍🟩';
      paragraph4.textContent = '🍋‍🟩';
      paragraph5.textContent = '🍋‍🟩';
      paragraph6.textContent = '🍋‍🟩';
      paragraph7.textContent = '🍋‍🟩';
      paragraph8.textContent = '🍋‍🟩';
      paragraph9.textContent = '🍋‍🟩';
      paragraph10.textContent = '🍋‍🟩';
    });
          </script>
    
      <script>
      // Get a reference to the input and paragraph elements
const inputField = document.getElementById("userText");
const paragraph = document.getElementById("message2");
        const button2 = document.getElementById("submit2");

// Add an 'input' event listener to the text box
button2.addEventListener("click", function() {
  // Update the paragraph's text to match the input's current value
  paragraph.textContent = inputField.value;
});

      </script>
    
  <input type="file" id="imageInput" accept="image/*" multiple>
<div id="previewContainer"></div>
<button id="addToGridButton">Add to Grid</button>
<div id="imageGrid"></div>
   <script>
     const hiddenGridButton = document.getElementById('addToGridButton');
     hiddenGridButton.style.visibility = 'hidden';
      </script>
  
   <script>
document.getElementById('passwordForm').addEventListener('submit', async function(event) {
    event.preventDefault(); // Prevent default form submission

    const enteredPassword = document.getElementById('password').value;
    const messageElement = document.getElementById('message');
   const messageElement2 = document.getElementById('message2');
   const hiddenGridButton = document.getElementById('addToGridButton');
  const inputField = document.getElementById("userText");

    try {
        // Fetch the hosted .txt file
        const response = await fetch('https://fakechan.staticrun.app/passwords.txt'); // Assuming passwords.txt is in the same directory
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const validPasswordsText = await response.text();
        const validPasswords = validPasswordsText.split('\n').map(p => p.trim()).filter(p => p.length > 0);

        // Check if the entered password matches any in the file
        if (validPasswords.includes(enteredPassword)) {
            messageElement.textContent = 'Your LimeID was found in the system!';
            messageElement.style.color = '#8BC809';
          hiddenGridButton.style.visibility = 'visible';
            // Redirect or perform other actions upon successful login
        } else {
            messageElement.textContent = 'Your LimeID was not found in the system.';
            messageElement.style.color = 'red';
        }
    } catch (error) {
        console.error('Error fetching or processing passwords:', error);
        messageElement.textContent = 'Your LimeID was not found in the system.';
        messageElement.style.color = 'red';
    }
});
  </script>
  
          <script>
document.getElementById('passwordForm').addEventListener('submit', async function(event) {
    event.preventDefault(); // Prevent default form submission

    const enteredPassword = document.getElementById('password').value;
    const messageElement = document.getElementById('message');
   const hiddenGridButton = document.getElementById('addToGridButton');

    try {
        // Fetch the hosted .txt file
        const response = await fetch('banslist.txt'); // Assuming passwords.txt is in the same directory
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const validPasswordsText = await response.text();
        const validPasswords = validPasswordsText.split('\n').map(p => p.trim()).filter(p => p.length > 0);

        // Check if the entered password matches any in the file
        if (validPasswords.includes(enteredPassword)) {
            messageElement.textContent = 'Your LimeID was found in the ban list, meaning you have been temporarily or permanently suspended from accessing the Lime Network and FakeChan. Reason: fuck you';
            messageElement.style.color = 'darkred';
            messageElement.style.fontWeight = 'bold';
            // Redirect or perform other actions upon successful login
        } else {
            
        }
    } catch (error) {
        console.error('Error fetching or processing passwords:', error);
    }
});
  </script>
  
<script>
   const limeID = document.getElementById('limeID');
 function setJsonCookie(name, value, days) {
  const date = new Date();
  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
  const expires = "expires=" + date.toUTCString();
  const jsonValue = JSON.stringify(value); // Convert the value to a JSON string
  document.cookie = name + "=" + jsonValue + ";" + expires + ";path=/";
}

// Example usage:
const storedImageData = {
  id: 1,
  name: "UNREGISTERED"
};
  
    setJsonCookie("storedImageData", storedImageData, 7); 
  
 

  
    document.getElementById('imageInput').addEventListener('change', function(event) {
    const previewContainer = document.getElementById('previewContainer');
    previewContainer.innerHTML = ''; // Clear previous previews

    const files = event.target.files;
    for (const file of files) {
        if (file.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.createElement('img');
              // Get the Base64 data URL
      const base64String = e.target.result;
      
      // Store the Base64 string in localStorage
      localStorage.setItem('selectedImage', base64String);
              
              const retrievedValue = localStorage.getItem("selectedImage");
              
               setJsonCookie("storedImageData", retrievedValue, 7); // Stores for 7 days
              const objectURL = URL.createObjectURL(file);
              let jsonString = JSON.stringify(base64String);

                        alert("Your stored .JSON image cookie data " + objectURL + " has been stored into the client."); 
              
                img.src = base64String;
                img.classList.add('preview-image'); // Add a class for styling
                previewContainer.appendChild(img);
              alert("Your LimeID token is only valid for a single upload to the grid per day. You can overwrite your thread/post as many times as you like, but you cannot remove it unless you reset your cookies for FakeChan or wait 24 hours for the cookies tied to the post to expire.");
            };
            reader.readAsDataURL(file);
        }
    }
});
    document.getElementById('addToGridButton').addEventListener('click', function() {
    const previewImages = document.querySelectorAll('.preview-image');
    const imageGrid = document.getElementById('imageGrid');

      
    previewImages.forEach(img => {
        const gridItem = document.createElement('div');
        gridItem.classList.add('grid-item'); // Add a class for styling grid items
        gridItem.appendChild(img.cloneNode(true)); // Clone to move, not remove from preview
       const overlayText = document.createElement('div');
        overlayText.classList.add('overlay-text');
      const base64String2 = inputField.value;
      localStorage.setItem('storedText', inputField.value);
        overlayText.textContent = base64String2;
        gridItem.appendChild(overlayText);
        imageGrid.appendChild(gridItem);
       window.location.href = "https://japanga.github.io/FakeChan/";
    });

    document.getElementById('previewContainer').innerHTML = ''; // Clear previews after adding
});
   
</script>
    
     <script>
        function getJsonCookie(name) {
  const nameEQ = name + "=";
  const ca = document.cookie.split(';');
  for (let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) === ' ') c = c.substring(1, c.length);
    if (c.indexOf(nameEQ) === 0) {
      const cookieValue = c.substring(nameEQ.length, c.length);
      try {
        return JSON.parse(cookieValue); // Parse the JSON string back to an object
      } catch (e) {
        console.error("Error parsing JSON cookie:", e);
        return null; // Return null if parsing fails
      }
    }
  }
  return null;
} 

// Example usage:
const retrievedObject = getJsonCookie("storedImageData");
  
if (retrievedObject) {
  alert("Your stored .JSON image cookie data " + retrievedObject.name + " has been called been called by the client."); // Access properties of the retrieved object
}
       // --- Step 2 & 3: Check for cookie on DOM load and perform action ---
document.addEventListener('DOMContentLoaded', (event) => {
      const gridContainer = document.getElementById('imageGrid');
    const savedImage = localStorage.getItem('selectedImage');

    if (savedImage) {
          // Create a new grid item
    const newGridItem = document.createElement('div');
    newGridItem.classList.add('grid-item'); // Add a class for styling if needed
      const currentDate = new Date();
const year = currentDate.getFullYear();
const month = (currentDate.getMonth() + 1).toString().padStart(2, '0'); // Add 1 as month is 0-indexed
const day = currentDate.getDate().toString().padStart(2, '0');

const formattedDate = `${year}-${month}-${day}`;
    // Create an image element
        const storedText = localStorage.getItem('storedText');
      const retrievedObject = getJsonCookie("storedImageData");
    const newImage = document.createElement('img');
    newImage.src = retrievedObject; // Set the image source
    // Append the image to the grid item, and the grid item to the container
    newGridItem.appendChild(newImage);
    const overlayText = document.createElement('div2');
   overlayText.classList.add('overlay-text');
    overlayText.textContent = 
" Anonymous " + "Date: " + formattedDate + 
" Post: " +  storedText;
     newGridItem.appendChild(overlayText);
    gridContainer.appendChild(newGridItem);
    } else {
       alert("The system attempted to load your previously stored post to the FakeChan: Grid but it failed as you have not made one yet.");
        // --- Optional: Perform another action if the cookie is NOT present ---
    }
});
         // Assuming you have a container for your grid


        </script>
    
    
<script>
function validateForm() {
  let x = document.forms["passwordForm"]["userText"].value;
  if (x == "") {
    alert("Your post submission cannot be blank, pleae write some text to be attatched to it.");
    return false;
  }
}
</script>

<style>
  
textarea {
    width: 40%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box; /* Ensures padding doesn't increase total width */
    resize: vertical; /* Allows vertical resizing of textarea */
}
 #imageGrid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Responsive grid columns */
    gap: 10px; /* Space between grid items */
    padding: 20px;
    background-image: linear-gradient(#A6A6A6
, #4F4F4F);
    height:500px; 
           border-style: solid;
      border-width: 2px;
      border-color: white; /* Sets all four borders to red */
}
  #verifyLimeIDButton{
    background-image: linear-gradient(#FCD5AC
, #5C3F22);
  }
    #mobileButton{
    background-image: linear-gradient(#FCD5AC
, #5C3F22);
  }
   #deleteButton{
    background-image: linear-gradient(#FCD5AC
, #5C3F22);
  }

.grid-item img {
    max-width: 100%;
    height: auto;
    display: block; /* Remove extra space below images */
}
  .overlay-text {
    display: none;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 70%;
    background-color: rgba(0, 0, 0, 0.4);
    color: #8BC809;
    padding: 15px;
    box-sizing: border-box;
    transform: translateY(100%);
    transition: transform 0.3s ease-in-out;
    text-align: center;
    font-size: 0.7em;
}
.grid-item:hover img {
    transform: scale(1.05);
}

.grid-item:hover .overlay-text {
  display: block;
    transform: translateY(0);
}
  .memo-text {
  font-variant-emoji: text;
}
  .memo-mono {
  font-family: monospace;
}
     body {
  
    background-image: linear-gradient(#FCD5AC
, #5C3F22
);
    
}
  #previewContainer {
  border: 2px dashed #ccc; /* A dashed border to indicate a drop zone */
  padding: 20px;
  text-align: center;
  margin-bottom: 20px;
  background-color: #f9f9f9;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
height: 220px;
    width: 200px;
      background-image: linear-gradient(#5C3F22, #AD7D4C
);
}
  .boards-container {
  display: flex;
  /* Optional: Add spacing between paragraphs */
  gap: 10px;
  /* Optional: Align items vertically */
  align-items: center;
}
  .inline-p {
  display: inline-block;
  /* Optional: Add margin for spacing */
  margin-right: 10px;
}

   .preview-image {
 align-self: stretch; /* Makes the item fill the height of its grid area */
        justify-self: stretch; /* Makes the item fill the width of its grid area */
        /* Add other styling like background-color for visibility */
        background-color: lightcoral;
        display: flex; /* Optional: for centering content within the item */
        align-items: center;
        justify-content: center;
      min-height: 200px; /* Ensure a minimum height for visibility */
     
}
</style>
</body>
</html>
